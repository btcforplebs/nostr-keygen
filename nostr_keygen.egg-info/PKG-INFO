Metadata-Version: 2.4
Name: nostr-keygen
Version: 0.1.0
Summary: Terminal tool to generate nostr npub/nsec from file entropy
Author-email: Your Name <you@example.com>
Requires-Python: >=3.8
Description-Content-Type: text/markdown
Requires-Dist: ecdsa
Requires-Dist: bech32

# nostr-keygen

A tiny commandâ€‘line utility written in Python that generates an Nostr **npub** (public key) and **nsec** (private key) pair from a single file that you drop into the terminal.

> **NOTE:** The instructions below work on **macOS** and **Linux**. If youâ€™re on Windows youâ€™ll need a compatible terminal (e.g. WSL, Gitâ€‘Bash, or PowerShell with Python).

## How it works

1. **Entropy** â€“ The contents of the file you provide are read in binary mode.
2. **Hash** â€“ The data is hashed with SHAâ€‘256 to produce a 32â€‘byte seed.
3. **Key generation** â€“ The seed is fed to the secp256k1 curve to create an ECDSA private key.
4. **Bech32 encoding** â€“ The private key is encoded as `nsec`; the compressed public key is encoded as `npub`.

The utility is intentionally lightweight; it has no external configuration and works on any platform with Pythonâ€¯3.8+.

## ğŸ› ï¸ Installation

### 1ï¸âƒ£ Install Python

- **macOS**: Use Homebrew
  ```bash
  brew install python@3.12
  ```
  (If you already have Python, skip this step.)

- **Linux (Ubuntu / Debianâ€‘based)**:
  ```bash
  sudo apt-get update
  sudo apt-get install python3 python3-venv
  ```
  (Other distros may use `yum`, `dnf`, or your package manager of choice.)

- **Linux (Arch)**:
  ```bash
  sudo pacman -S python
  ```

> **Tip** â€“ On macOS the `python3` binary is typically symlinked to `python`, but on many Linux systems youâ€™ll need `python3` explicitly.

### 2ï¸âƒ£ Clone the repo

```bash
git clone https://github.com/yourâ€‘githubâ€‘handle/nostr-keygen.git
cd nostr-keygen
```

### 3ï¸âƒ£ Create a virtualâ€‘environment (recommended)

```bash
python3 -m venv .venv          # create a venv in the repo directory
source .venv/bin/activate      # activate it (both on macOS and Linux)
```

> The virtualâ€‘environment isolates the dependencies (`ecdsa`, `bech32`â€‘etâ€¯c.) from the rest of your system.

### 4ï¸âƒ£ Install the tool in editable mode (development) or normally

- **Editable (work on the code as you edit it)**
  ```bash
  pip install -e .
  ```

- **Normal installation**
  ```bash
  pip install .
  ```

Both forms install the consoleâ€‘script `nostrâ€‘keygen` into `./venv/bin`.

## ğŸš€ Run

```bash
# Drop any file onto the terminal prompt!
# macOS (most terminals) and many Linux terminals allow dragâ€‘andâ€‘drop.

nostr-keygen <filepath>
```

> Example: `nostr-keygen /tmp/randomfile.pdf`

---

### ğŸ“„ Quick test

```bash
# Create a tiny dummy file
printf "random entropy" > /tmp/dummy.bin

# Run the program
nostr-keygen /tmp/dummy.bin
```

You should see two lines outputted: an `nsec` string and an `npub` string.

## ğŸ“¦ Packaging details

The project uses a `pyproject.toml` and the `[project.scripts]` entry to expose the `nostr-keygen` command. No additional packaging steps are needed for local use.

## ğŸ”§ How the code works (quick dive)

```python
# main.py
import argparse, hashlib
from ecdsa import SigningKey, SECP256k1
from bech32 import bech32_encode, convertbits

NSEC_PREFIX, NPUB_PREFIX = "nsec", "npub"

def _to_bech32(data: bytes, hrp: str) -> str:
    five_bits = convertbits(list(data), 8, 5, True)
    return bech32_encode(hrp, five_bits)

# â€¦  (rest unchanged) â€¦
```

## ğŸ“„ License

MIT.
